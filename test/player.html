<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<title>動画をみる</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<style>
html, body {
  margin: 0;
  padding: 0;
  background: #000;
  height: 100%;
  overflow: hidden;
  font-family: sans-serif;
}

/* 戻るボタン */
#back {
  position: fixed;
  top: 8px;
  left: 8px;
  z-index: 10000;
  background: rgba(0,0,0,0.7);
  color: #fff;
  padding: 10px 14px;
  border-radius: 8px;
  font-size: 16px;
  text-decoration: none;
}

/* 閉じるボタン */
.close {
  position: fixed;
  top: 8px;
  right: 10px;
  z-index: 10000;
  font-size: 26px;
  color: #fff;
  text-decoration: none;
}

/* 広告注意表示 */
#notice {
  position: fixed;
  top: 60px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 9999;
  background: rgba(255,255,255,0.9);
  color: #000;
  padding: 10px 14px;
  border-radius: 8px;
  font-size: 14px;
  text-align: center;
}

/* iframe */
iframe {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  border: 0;
}
</style>
</head>

<body>

<!-- 戻る -->
<a id="back" href="index4.html">← 一覧に戻る</a>

<!-- 閉じる -->
<a class="close" href="index4.html">×</a>

<!-- 広告注意 -->
<div id="notice">
※ はじめや終わりに広告が出ることがあります。<br>
広告が終わるまで待ってください。
</div>

<!-- YouTube -->
<iframe id="yt"
  allow="autoplay; encrypted-media"
  allowfullscreen>
</iframe>

<!-- デバッグ表示（不要なら消してOK） -->
<p id="video" style="display:none"></p>

<script>
// 動画ID配列
const vArray = [
  '-_xIanPXx9Q','hsf2-xxoKKo','ZhBjsiYGigQ','EkJgegIjN3A',
  'b_hcupZparA','h8eKG4MoRW8','jIPnVuhk0h0'
  // …（長いので省略：元の配列そのまま使ってOK）
];

// 乱数
const rand = Math.random();
let selectedV;

// 67%以上でランダム差し替え
if (rand >= 0.67) {
  selectedV = vArray[Math.floor(Math.random() * vArray.length)];
  console.log("ランダム再生:", selectedV);
} else {
  const params = new URLSearchParams(location.search);
  selectedV = params.get("v");
  console.log("指定動画:", selectedV);
}

// iframe設定
if (selectedV) {
  document.getElementById("video").textContent = "v=" + selectedV;
  document.getElementById("yt").src =
    "https://www.youtube.com/embed/" + selectedV +
    "?rel=0&modestbranding=1&fs=0&iv_load_policy=3";
} else {
  location.href = "index4.html";
}

// 広告注意は5秒で消す
setTimeout(() => {
  document.getElementById("notice").style.display = "none";
}, 5000);
</script>

</body>
</html>

